spring.application.name=demo

# ===== 데이터베이스 설정 =====

# MySQL 연결 설정
spring.datasource.url=${SPRING_DATABASE_URL}
spring.datasource.username=${SPRING_DATABASE_USERNAME}
spring.datasource.password=${SPRING_DATABASE_PASSWORD}
spring.datasource.driver-class-name=${SPRING_DATABASE_DRIVER}

# JPA 설정
spring.jpa.hibernate.ddl-auto=${SPRING_JPA_HIBERNATE_DDL_AUTO:update}
spring.jpa.show-sql=${SPRING_JPA_SHOW_SQL:true}
spring.jpa.properties.hibernate.dialect=${SPRING_JPA_PROPERTIES_HIBERNATE_DIALECT:org.hibernate.dialect.MySQLDialect}
spring.jpa.database-platform=${SPRING_JPA_DATABASE_PLATFORM:mysql}
spring.jpa.open-in-view=${SPRING_JPA_OPEN_IN_VIEW:true}

# 데이터베이스 초기화 설정
spring.sql.init.mode=${SPRING_SQL_INIT_MODE:always}
spring.sql.init.schema-location=${SPRING_SQL_INIT_SCHEMA_LOCATION:classpath:""}
spring.sql.init.data-location=${SPRING_SQL_INIT_DATA_LOCATION:""}

# ===== Redis 설정 (로컬 WSL 이용, AWS Elasticache 사용 시 .env.backend 파일 변경 필요) =====

# Redis 서버 연결 설정
spring.data.redis.host=${SPRING_CACHE_HOST:localhost}
spring.data.redis.port=${SPRING_CACHE_PORT:6379}
spring.data.redis.password=${SPRING_CACHE_PASSWORD:}
spring.data.redis.database=${SPRING_CACHE_DATABASE:0}

# Redis 연결 풀 설정
spring.data.redis.lettuce.pool.max-active=${SPRING_CACHE_POOL_MAX_ACTIVE:8}
spring.data.redis.lettuce.pool.max-idle=${SPRING_CACHE_POOL_MAX_IDLE:8}
spring.data.redis.lettuce.pool.min-idle=${SPRING_CACHE_POOL_MIN_IDLE:0}
spring.data.redis.lettuce.pool.max-wait=${SPRING_CACHE_POOL_MAX_WAIT:-1ms}

# Redis 연결 타임아웃 설정
spring.data.redis.timeout=${SPRING_CACHE_TIMEOUT:2000ms}
spring.data.redis.lettuce.shutdown-timeout=${SPRING_CACHE_SHUTDOWN_TIMEOUT:100ms}

# Spring Session Redis 설정
spring.session.redis.store-type=${SPRING_CACHE_SESSION_STORE_TYPE:redis}
spring.session.redis.namespace=${SPRING_CACHE_SESSION_NAMESPACE:session}
spring.session.redis.flush-mode=${SPRING_CACHE_FLUSH_MODE:on-save}

# Redis 클러스터 설정 (선택사항 - 단일 Redis 서버 사용 시 주석 처리)
# spring.data.redis.cluster.nodes=localhost:6379
# spring.data.redis.cluster.max-redirects=3

# Redis 연결 테스트 설정
spring.data.redis.lettuce.pool.test-on-borrow=${SPRING_CACHE_TEST_ON_BORROW:true}
spring.data.redis.lettuce.pool.test-on-return=${SPRING_CACHE_TEST_ON_RETURN:true}
spring.data.redis.lettuce.pool.test-while-idle=${SPRING_CACHE_TEST_WHILE_IDLE:true}

# ===== Email 설정 =====
spring.mail.host=${SPRING_MAIL_HOST}
spring.mail.port=${SPRING_MAIL_PORT}
spring.mail.username=${SPRING_MAIL_USERNAME}
spring.mail.password=${SPRING_MAIL_PASSWORD}
spring.mail.properties.mail.smtp.ssl.trust=${SPRING_MAIL_PROPERTIES_SMTP_SSL_TRUST}
spring.mail.properties.mail.smtp.auth=${SPRING_MAIL_PROPERTIES_SMTP_AUTH}
spring.mail.properties.mail.smtp.timeout=${SPRING_MAIL_PROPERTIES_SMTP_TIMEOUT}
spring.mail.properties.mail.smtp.starttls.enable=${SPRING_MAIL_PROPERTIES_SMTP_STARTTLS_ENABLE}

# ===== Security 설정 =====

# Spring Security 설정
app.security.allowed_origin=${APP_SECURITY_ALLOWED_ORIGIN}
app.security.is_cors=${APP_SECURITY_IS_CORS}
app.oauth2.redirect-uri=${APP_OAUTH2_REDIRECT_URI}
app.oauth2.fail-redirect-uri=${APP_OAUTH2_FAIL_REDIRECT_URI}
app.login.limit_retry=${APP_LOGIN_LIMIT_RETRY}

# 인증코드 설정
app.verification-length=${APP_VERIFICATION_LENGTH}
app.verification-range=${APP_VERIFICATION_RANGE}
app.verification-limit=${APP_VERIFICATION_LIMIT}

#Google 로그인 설정
spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID}
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET}
spring.security.oauth2.client.registration.google.scope=${GOOGLE_SCOPE}
spring.security.oauth2.client.registration.google.redirect-uri=${GOOGLE_REDIRECT_URI}
spring.security.oauth2.client.registration.google.client-name=${GOOGLE_CLIENT_NAME}
spring.security.oauth2.client.provider.google.authorization-uri=${GOOGLE_PROVIDER_AUTHORIZATION_URI}
spring.security.oauth2.client.provider.google.token-uri=${GOOGLE_PROVIDER_TOKEN_URI}
spring.security.oauth2.client.provider.google.user-info-uri=${GOOGLE_PROVIDER_USER_INFO_URI}
spring.security.oauth2.client.provider.google.user-name-attribute=${GOOGLE_PROVIDER_USER_NAME_ATTRIBUTE}
spring.security.oauth2.client.provider.google.jwk-set-uri=${GOOGLE_PROVIDER_JWK_SET_URI}

#Kako 로그인 설정
spring.security.oauth2.client.registration.kakao.client-id=${KAKAO_CLIENT_ID}
spring.security.oauth2.client.registration.kakao.client-secret=${KAKAO_CLIENT_SECRET}
spring.security.oauth2.client.registration.kakao.scope=${KAKAO_SCOPE}
spring.security.oauth2.client.registration.kakao.redirect-uri=${KAKAO_REDIRECT_URI}
spring.security.oauth2.client.registration.kakao.client-name=${KAKAO_CLIENT_NAME}
spring.security.oauth2.client.registration.kakao.authorization-grant-type=${KAKAO_AUTHORIZATION_GRANT_TYPE}
spring.security.oauth2.client.registration.kakao.client-authentication-method=${KAKAO_CLIENT_AUTHENTICATION_METHOD}
spring.security.oauth2.client.provider.kakao.authorization-uri=${KAKAO_PROVIDER_AUTHORIZATION_URI}
spring.security.oauth2.client.provider.kakao.token-uri=${KAKAO_PROVIDER_TOKEN_URI}
spring.security.oauth2.client.provider.kakao.user-info-uri=${KAKAO_PROVIDER_USER_INFO_URI}
spring.security.oauth2.client.provider.kakao.user-name-attribute=${KAKAO_PROVIDER_USER_NAME_ATTRIBUTE}

# JWT 설정
spring.jwt.secret=${SPRING_JWT_SECRET:test}
spring.jwt.access_token_expiration=${SPRING_JWT_ACCESS_TOKEN_EXPIRATION:900000}
spring.jwt.refresh_token_expiration=${SPRING_JWT_REFRESH_TOKEN_EXPIRATION:1800000}

#스레드 풀 설정
app.async.io.core-pool-size=${APP_ASYNC_IO_CORE_POOL_SIZE}
app.async.io.max-pool-size=${APP_ASYNC_IO_MAX_POOL_SIZE}
app.async.io.queue-capacity=${APP_ASYNC_IO_QUEUE_CAPACITY}

app.async.cpu.core-pool-size=${APP_ASYNC_CPU_CORE_POOL_SIZE}
app.async.cpu.max-pool-size=${APP_ASYNC_CPU_MAX_POOL_SIZE}
app.async.cpu.queue-capacity=${APP_ASYNC_CPU_QUEUE_CAPACITY}

#AWS 설정
cloud.aws.region.static=${CLOUD_AWS_REGION_STATIC}
cloud.aws.credentials.access-key=${CLOUD_AWS_CREDENTIALS_ACCESS_KEY}
cloud.aws.credentials.secret-key=${CLOUD_AWS_CREDENTIALS_SECRET_KEY}
cloud.aws.s3.bucket=${CLOUD_AWS_S3_BUCKET}
